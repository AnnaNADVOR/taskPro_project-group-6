"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[217],{6217:function(e,t,r){r.r(t),r.d(t,{default:function(){return Pe}});var n=r(9439),i=r(2791),a=r(4596),s={btnAddColumn:"AddBtnColumn_btnAddColumn__PKhFZ",btnPlus:"AddBtnColumn_btnPlus__wZkNB"},l=r(9321),o=r(4420),c=r(7142),d="AddColumnForm_addColumnModalTitle__whRgL",u="AddColumnForm_addColumnInput__6QVuw",_=r(5705),m=r(8007),p=r(8904),h=r(1413),x=r(3553),j=function(e){return e.boards.board},g=function(e){return e.boards.board.columns},v=(0,x.P1)([g],(function(e){return e.reduce((function(e,t){return e.concat(t.tasks.map((function(e){return(0,h.Z)((0,h.Z)({},e),{},{columnId:t._id})})))}),[])})),b=(0,x.P1)([v,function(e){return e.filter.priority}],(function(e,t){return e.filter((function(e){return e.priority.includes(t)}))})),f=r(3329),C=m.Ry().shape({columnTitle:m.Z_().required("Please enter the title")}),N=function(e){var t=e.title,r=e.action,n=e.columnId,i=e.columnTitle;console.log("columnId",n);var a=(0,o.v9)(j),s=(0,o.I0)(),l={columnTitle:""};return n&&(l.columnTitle=i),(0,f.jsx)(_.J9,{validationSchema:C,initialValues:l,onSubmit:function(e,t){n?(s((0,p.L9)({columnId:n,newColumnData:{board:a._id,title:e.columnTitle}})),t.resetForm()):(s((0,p.Wf)({title:e.columnTitle,board:a._id})),t.resetForm())},children:(0,f.jsxs)(_.l0,{children:[(0,f.jsx)("h3",{className:d,children:t}),(0,f.jsx)(_.gN,{className:u,as:"input",type:"text",name:"columnTitle",placeholder:"Title",required:!0,autoFocus:!0}),(0,f.jsx)(c.Z,{text:r})]})})},y=function(){var e=(0,i.useState)(!1),t=(0,n.Z)(e,2),r=t[0],o=t[1],c=function(){o((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("button",{className:s.btnAddColumn,type:"button",onClick:c,children:[(0,f.jsx)("div",{className:s.btnPlus,children:(0,f.jsx)("svg",{"aria-label":"plus",children:(0,f.jsx)("use",{href:"".concat(a.Z,"#plus-20")})})}),(0,f.jsx)("p",{className:s.btnText,children:"Add another column"})]}),r&&(0,f.jsx)(l.Z,{closeModal:c,children:(0,f.jsx)(N,{title:"Add column",action:"Add"})})]})},I="ColumnsList_columnsListContainer__y1n-3",k="ColumnsList_columnList__Oh-td",F="ColumnsList_columnItem__fGEt7",T="ColumnsList_columnTitle__JgLbv",S="ColumnsList_btnIcon__dIt+m",w="ColumnsList_columnTitleIcon__cKKEZ",L="ColumnsList_cardContainer__c+bP9",M={card:"Card_card__9i1e0",cardTitle:"Card_cardTitle__WOpNK",cardDescription:"Card_cardDescription__asnRe",cardOptions:"Card_cardOptions__Jpn8u",optionsInfo:"Card_optionsInfo__Ur7lv",optonWrapper:"Card_optonWrapper__paaQk",optionTitle:"Card_optionTitle__Xwwk2",priorityMark:"Card_priorityMark__P5D5u",priorityLabel:"Card_priorityLabel__UV0uv",optionsBtnList:"Card_optionsBtnList__MCRS8",optionBtn:"Card_optionBtn__O+R+M",deadlineNotify:"Card_deadlineNotify__l71UH",btnItem:"Card_btnItem__tGlpJ",optionBtnSvg:"Card_optionBtnSvg__gpnjf",bell:"Card_bell__9Ck4Y",progressContainer:"Card_progressContainer__MLD9P",cardList:"Card_cardList__0WbY0"},D="CardForm_formTitle__UxmMR",Z="CardForm_formText__Lrywy",P="CardForm_inputForm__Pjbp4",B="CardForm_errorField__u4Pnb",W="CardForm_label__yLVGx",A="CardForm_description__JlASz CardForm_inputForm__Pjbp4",E="CardForm_priorityWrapper__AUS8j",O="CardForm_deadlineWrapper__9e5ip",H="PriorityOptions_labelWrapper__Byxtu",G="PriorityOptions_label__MK2FN",J=function(e){var t=e.options,r=e.priority,n=e.active;return(0,f.jsx)("ul",{className:H,children:t.map((function(e){var t=e.value,i=e.color;return(0,f.jsx)("li",{children:(0,f.jsx)(_.gN,{as:"input",type:"radio",name:"priority",value:t,checked:r===t,className:G,style:{backgroundColor:i},onClick:n})},t)}))})},K=r(9513),R=r.n(K),q=(r(8639),{button:"Calendar_button__9bAG0"}),U=r(7890),V=function(e){var t=e.date,r=e.changeDate,n=(0,i.forwardRef)((function(e,t){var r=e.value,n=e.onClick;return(0,f.jsxs)("button",{type:"button",className:q.button,onClick:n,ref:t,children:[r,(0,f.jsx)("svg",{children:(0,f.jsx)("use",{href:"".concat(a.Z,"#select-menu-16")})})]})}));return(0,f.jsx)(R(),{className:q.picker,locale:U.Z,selected:t,onChange:r,minDate:new Date,dateFormat:function(e){var t=new Date,r=new Date;return r.setDate(t.getDate()+1),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()?"'Today', MMMM dd":e.getDate()===r.getDate()&&e.getMonth()===r.getMonth()&&e.getFullYear()===r.getFullYear()?"'Tomorrow', MMMM dd":"EEEE, MMMM dd"}(t),onFocus:function(e){return e.target.blur()},onKeyDown:function(e){return e.preventDefault()},customInput:(0,f.jsx)(n,{})})},Y=m.Ry().shape({cardTitle:m.Z_().required("Please enter the title").max(25,"Must be no more than 25 characters long"),description:m.Z_()}),Q=function(e){var t=e.title,r=e.action,a=e.taskTitle,s=e.taskDescription,l=e.taskPriority,d=e.taskDeadline,u=e.taskId,m=e.columnId,h=e.handleClose,x={cardTitle:"",description:""},j=(0,i.useState)(l||"Without"),g=(0,n.Z)(j,2),v=g[0],b=g[1],C=(0,i.useState)(d?new Date(d):new Date),N=(0,n.Z)(C,2),y=N[0],I=N[1];u&&(x.cardTitle=a,x.description=s);var k=(0,o.I0)();return(0,f.jsx)(_.J9,{validationSchema:Y,initialValues:x,onSubmit:function(e,t){var r={_id:u,column:m,title:e.cardTitle,description:e.description,priority:v,deadline:y.toISOString()},n={_id:u,column:m,title:e.cardTitle,description:e.description,priority:v,deadline:y.toISOString()};u?(k((0,p.eT)(n)),t.resetForm(),h()):(k((0,p.gI)(r)),t.resetForm(),h())},children:(0,f.jsxs)(_.l0,{autoComplete:"off",children:[(0,f.jsx)("h4",{className:D,children:t}),(0,f.jsxs)("label",{className:W,htmlFor:"cardTitle",children:[(0,f.jsx)(_.gN,{className:P,as:"input",type:"text",name:"cardTitle",placeholder:"Title",required:!0,autoFocus:!0}),(0,f.jsx)("span",{className:B,children:(0,f.jsx)(_.Bc,{name:"cardTitle"})})]}),(0,f.jsx)("label",{htmlFor:"description",children:(0,f.jsx)(_.gN,{className:A,as:"textarea",type:"text",name:"description",placeholder:"Description",required:!0})}),(0,f.jsxs)("div",{className:E,children:[(0,f.jsx)("p",{className:Z,children:"Label color"}),(0,f.jsx)(J,{options:[{value:"Low",color:"var(--priority-low-color)"},{value:"Medium",color:"var(--priority-medium-color)"},{value:"High",color:"var(--priority-high-color)"},{value:"Without",color:"var(--priority-color-without)"}],priority:v,active:function(e){b(e.target.value)}})]}),(0,f.jsxs)("div",{className:O,children:[(0,f.jsx)("p",{className:Z,children:"Deadline"}),(0,f.jsx)(V,{date:y,changeDate:I})]}),(0,f.jsx)(c.Z,{text:r})]})})},z="Progress_popupMenu__BWCqT",X="Progress_progressList__kvm4P",$="Progress_progressListBtn__Hv5GC",ee="Progress_progressBtnSvg__15GWP",te=function(e){var t=e.closeMenu,r=e.columnId,n=e.currentTask,s=(0,o.v9)(g).filter((function(e){return e._id!==r}));(0,i.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);var l=(0,o.I0)();return(0,f.jsx)("div",{className:z,children:(0,f.jsx)("ul",{className:X,children:s.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsxs)("button",{className:$,onClick:function(){return t=e._id,void l((0,p.jT)({taskId:n._id,columnId:t,currentColumnId:r}));var t},type:"button",children:[e.title,(0,f.jsx)("svg",{className:ee,children:(0,f.jsx)("use",{href:"".concat(a.Z,"#remove-16")})})]})},e.title)}))})})},re=function(e){var t,r=e.newCard,s=e.columnId,c=(0,i.useState)(!1),d=(0,n.Z)(c,2),u=d[0],_=d[1],m=(0,i.useState)(!1),h=(0,n.Z)(m,2),x=h[0],j=h[1],g=function(){return _((function(e){return!e}))},v=function(){return j((function(e){return!e}))},b=(0,o.I0)(),C=(new Date).toISOString().replace(/T.*/,"").split("-").reverse().join("/"),N=r.deadline.replace(/T.*/,"").split("-").reverse().join("/");switch(r.priority){case"Low":t="var(--priority-low-color)";break;case"Medium":t="var(--priority-medium-color)";break;case"High":t="var(--priority-high-color)";break;default:t="var(--priority-color-without)"}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:M.card,style:{borderLeft:"4px solid ".concat(t)},children:[(0,f.jsx)("h4",{className:M.cardTitle,children:r.title}),(0,f.jsx)("p",{className:M.cardDescription,children:r.description}),(0,f.jsxs)("div",{className:M.cardOptions,children:[(0,f.jsxs)("div",{className:M.optionsInfo,children:[(0,f.jsxs)("div",{className:M.optionWrapper,children:[(0,f.jsx)("h5",{className:M.optionTitle,children:"Priority"}),(0,f.jsxs)("div",{className:M.priorityLabel,children:[(0,f.jsx)("span",{className:M.priorityMark,style:{backgroundColor:t}}),(0,f.jsx)("p",{children:r.priority})]})]}),(0,f.jsxs)("div",{className:M.optionWrapper,children:[(0,f.jsx)("h5",{className:M.optionTitle,children:"Deadline"}),(0,f.jsx)("p",{children:N})]})]}),(0,f.jsxs)("ul",{className:M.optionsBtnList,children:[C===N&&(0,f.jsx)("li",{className:M.deadlineNotify,children:(0,f.jsx)("button",{className:M.optionBtn,type:"button",children:(0,f.jsx)("svg",{className:M.bell,children:(0,f.jsx)("use",{href:"".concat(a.Z,"#bell-16")})})})}),(0,f.jsxs)("li",{children:[(0,f.jsx)("button",{className:M.optionBtn,type:"button",onClick:v,children:(0,f.jsx)("svg",{className:M.optionBtnSvg,children:(0,f.jsx)("use",{href:"".concat(a.Z,"#remove-16")})})}),(0,f.jsx)("div",{className:M.progressContainer,children:x&&(0,f.jsx)(te,{closeMenu:v,columnId:s,currentTask:r})})]}),(0,f.jsx)("li",{className:M.btnItem,children:(0,f.jsx)("button",{className:M.optionBtn,type:"button",onClick:g,children:(0,f.jsx)("svg",{className:M.optionBtnSvg,children:(0,f.jsx)("use",{href:"".concat(a.Z,"#pencil-16")})})})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:M.optionBtn,onClick:function(){b((0,p._5)(r._id))},type:"button",children:(0,f.jsx)("svg",{className:M.optionBtnSvg,children:(0,f.jsx)("use",{href:"".concat(a.Z,"#trash-16")})})})})]})]})]}),u&&(0,f.jsx)(l.Z,{closeModal:g,children:(0,f.jsx)(Q,{title:"Edit card",action:"Edit",taskTitle:r.title,taskDescription:r.description,taskId:r._id,taskPriority:r.priority,taskDeadline:r.deadline,columnId:r.columnId,handleClose:g})})]})},ne=function(e){var t=e.columnId,r=(0,o.v9)(b).filter((function(e){return e.columnId===t}));return(0,f.jsx)("ul",{className:M.cardList,children:r.length>0&&(0,f.jsx)(f.Fragment,{children:r.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(re,{newCard:e,columnId:t})},e._id)}))})})},ie=function(e){var t=e.id,r=e.title,s=(0,i.useState)(!1),d=(0,n.Z)(s,2),u=d[0],_=d[1],m=(0,i.useState)(!1),h=(0,n.Z)(m,2),x=h[0],j=h[1],g=function(){_((function(e){return!e}))},v=function(){j((function(e){return!e}))},b=(0,o.I0)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("p",{className:T,children:[r,(0,f.jsx)("button",{className:S,onClick:v,type:"button",children:(0,f.jsx)("svg",{className:w,width:16,height:16,children:(0,f.jsx)("use",{href:"".concat(a.Z,"#pencil-16")})})}),(0,f.jsx)("button",{className:S,onClick:function(){b((0,p.eA)(t))},type:"button",children:(0,f.jsx)("svg",{className:w,width:16,height:16,children:(0,f.jsx)("use",{href:"".concat(a.Z,"#trash-16")})})})]}),(0,f.jsx)("div",{className:L,children:(0,f.jsx)(ne,{columnId:t})}),(0,f.jsx)(c.Z,{text:"Add another card",click:g}),u&&(0,f.jsx)(l.Z,{closeModal:g,children:(0,f.jsx)(Q,{title:"Add card",action:"Add",columnId:t,handleClose:g})}),x&&(0,f.jsx)(l.Z,{closeModal:v,children:(0,f.jsx)(N,{title:"Edit column",action:"Edit",columnId:t,columnTitle:r})})]})},ae=function(){var e=(0,o.v9)(g);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:I,children:(0,f.jsx)("ul",{className:k,children:null===e||void 0===e?void 0:e.map((function(e){return(0,f.jsx)("li",{className:F,children:(0,f.jsx)(ie,{id:e._id,title:e.title,column:e})},e._id)}))})})})},se="Screens_page_container__51p2p",le="Screens_page_bgImage1__OydW4",oe="Screens_page_bgImage2__fmZk6",ce="Screens_page_bgImage3__t38vE",de="Screens_page_bgImage4__0wNGd",ue="Screens_page_bgImage5__OhxDX",_e="Screens_page_bgImage6__g7WiG",me="Screens_page_bgImage7__rP--d",pe="Screens_page_bgImage8__zQy49",he="Screens_page_bgImage9__-53iA",xe="Screens_page_bgImage10__Kt+5F",je="Screens_page_bgImage11__KiLH2",ge="Screens_page_bgImage12__Olz6K",ve="Screens_page_bgImage13__jh2yT",be="Screens_page_bgImage14__HbmEn",fe="Screens_page_bgImage15__JIqvf",Ce="Filter_filterTitle__5SDqd",Ne="Filter_filterWrap__xOHoa",ye="Filter_filterContainer__8G57N",Ie="Filter_textLeabel__QUz2b",ke="Filter_buttonLeabel__JxnC3",Fe="Filter_leabelGroup__06GpO",Te="Filter_label__vEd1E",Se="Filter_labeltext__wgxuo",we="Filter_filterForm__+l+6Q",Le=r(1273),Me=function(){var e=(0,o.I0)(),t=function(t){e((0,Le.T)(t.currentTarget.value))},r=(0,i.useState)(""),a=(0,n.Z)(r,2),s=a[0],l=a[1],c=function(e){l(e.target.value)};return(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:Ce,children:"Filters"}),(0,f.jsx)(_.J9,{initialValues:{background:"00",priority:""},children:(0,f.jsx)(_.l0,{onChange:c,className:we,children:(0,f.jsxs)("div",{className:ye,children:[(0,f.jsxs)("div",{className:Ne,children:[(0,f.jsx)("p",{className:Ie,children:"Label color"}),(0,f.jsx)("button",{type:"button",onClick:function(){l(""),e((0,Le.T)(""))},className:ke,children:"Show all"})]}),(0,f.jsx)("ul",{children:[{value:"Without",color:"var(--priority-color-without)",text:"Without priority"},{value:"Low",color:"var(--priority-low-color)",text:"Low"},{value:"Medium",color:"var(--priority-medium-color)",text:"Medium"},{value:"High",color:"var(--priority-high-color)",text:"High"}].map((function(e){var r=e.value,n=e.color,i=e.text;return(0,f.jsxs)("li",{className:Fe,children:[(0,f.jsx)(_.gN,{as:"input",type:"radio",name:"priority",value:r,checked:s===r,style:{backgroundColor:n},onClick:c,onChange:t,className:Te})," ",(0,f.jsxs)("span",{className:Se,children:[" ",i]})]},r)}))})]})})})]})},De={container:"HeaderDashboard_container__CSoUF",projectTitle:"HeaderDashboard_projectTitle__F-IyU",buttonFilter:"HeaderDashboard_buttonFilter__Ns8y8",modalStyle:"HeaderDashboard_modalStyle__jVe5R",filterTitle:"HeaderDashboard_filterTitle__trtwk"},Ze=function(e){var t=e.title,r=(0,i.useState)(),s=(0,n.Z)(r,2),o=s[0],c=s[1],d=function(){c((function(e){return!e}))};return(0,f.jsxs)("div",{className:De.container,children:[(0,f.jsx)("h2",{className:De.projectTitle,children:t}),(0,f.jsxs)("button",{className:De.buttonFilter,type:" button",onClick:d,children:[(0,f.jsx)("svg",{className:De.filterIcon,"aria-label":"filter icon",width:"16",height:"16",children:(0,f.jsx)("use",{href:"".concat(a.Z,"#filter-16")})}),(0,f.jsx)("p",{className:De.filterTitle,children:"Filters"})]}),o&&(0,f.jsx)(l.Z,{style:De.modalStyle,closeModal:d,children:(0,f.jsx)(Me,{})})]})},Pe=function(){var e=(0,o.v9)(j),t=e.title,r=e.background,n="".concat(se," ").concat(function(e){switch(e){case"01":return le;case"02":return oe;case"03":return ce;case"04":return de;case"05":return ue;case"06":return _e;case"07":return me;case"08":return pe;case"09":return he;case"10":return xe;case"11":return je;case"12":return ge;case"13":return ve;case"14":return be;case"15":return fe}}(r));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Ze,{title:t}),(0,f.jsxs)("div",{className:n,children:[(0,f.jsx)(ae,{}),(0,f.jsx)(y,{})]})]})}}}]);
//# sourceMappingURL=217.72686bbc.chunk.js.map